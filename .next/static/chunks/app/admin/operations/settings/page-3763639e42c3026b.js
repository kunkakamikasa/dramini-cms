(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[309],{316:function(e,t,s){Promise.resolve().then(s.bind(s,7060))},7060:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b},dynamic:function(){return g}});var r=s(7437),n=s(2265),a=s(5754),l=s(5179),i=s(7815),c=s(1478),d=s(9409),o=s(1541),u=s(9036),x=s(1295),m=s(1738),f=s(4280),p=s(6245),v=s(7332),h=s(5925);let g="force-dynamic",y={site_name:{value:"Dramini CMS"},default_currency:{value:"CNY"},free_preview_episodes:{value:3},drm_enabled:{value:!1},cdn_base_url:{value:"https://cdn.dramini.com"},max_file_size:{value:100},allowed_video_formats:{value:["mp4","mov","avi"]},allowed_image_formats:{value:["jpg","jpeg","png","webp"]},smtp_host:{value:"smtp.example.com"},smtp_port:{value:587},stripe_secret_key:{value:"sk_test_..."},paypal_client_id:{value:"paypal_client_id"}};function b(){let[e,t]=(0,n.useState)(y),[s,g]=(0,n.useState)(!1),b=async()=>{g(!0);try{await new Promise(e=>setTimeout(e,1e3)),h.ZP.success("设置保存成功")}catch(e){h.ZP.error("保存设置失败")}finally{g(!1)}},j=(e,s)=>{t(t=>({...t,[e]:{value:s}}))},N=[{title:"基本设置",icon:d.Z,settings:[{key:"site_name",label:"网站名称",type:"text",description:"显示在管理后台的网站名称"},{key:"default_currency",label:"默认货币",type:"select",options:[{value:"CNY",label:"人民币 (CNY)"},{value:"USD",label:"美元 (USD)"},{value:"EUR",label:"欧元 (EUR)"}],description:"系统默认使用的货币单位"},{key:"free_preview_episodes",label:"免费预览集数",type:"number",description:"每个标题默认免费预览的集数"}]},{title:"媒体设置",icon:o.Z,settings:[{key:"max_file_size",label:"最大文件大小 (MB)",type:"number",description:"上传文件的最大大小限制"},{key:"allowed_video_formats",label:"允许的视频格式",type:"text",description:"支持上传的视频格式，用逗号分隔"},{key:"allowed_image_formats",label:"允许的图片格式",type:"text",description:"支持上传的图片格式，用逗号分隔"},{key:"cdn_base_url",label:"CDN 基础 URL",type:"text",description:"内容分发网络的基础 URL"}]},{title:"安全设置",icon:u.Z,settings:[{key:"drm_enabled",label:"启用 DRM 保护",type:"checkbox",description:"是否启用数字版权管理保护"}]},{title:"邮件设置",icon:x.Z,settings:[{key:"smtp_host",label:"SMTP 主机",type:"text",description:"邮件服务器主机地址"},{key:"smtp_port",label:"SMTP 端口",type:"number",description:"邮件服务器端口号"}]},{title:"支付设置",icon:m.Z,settings:[{key:"stripe_secret_key",label:"Stripe 密钥",type:"password",description:"Stripe 支付服务的密钥"},{key:"paypal_client_id",label:"PayPal 客户端 ID",type:"text",description:"PayPal 支付服务的客户端 ID"}]}],_=t=>{var s,n;let a=null===(s=e[t.key])||void 0===s?void 0:s.value;switch(t.type){case"text":return(0,r.jsx)(l.I,{value:a||"",onChange:e=>j(t.key,e.target.value),placeholder:t.description});case"number":return(0,r.jsx)(l.I,{type:"number",value:a||"",onChange:e=>j(t.key,parseInt(e.target.value)||0),placeholder:t.description});case"password":return(0,r.jsx)(l.I,{type:"password",value:a||"",onChange:e=>j(t.key,e.target.value),placeholder:t.description});case"select":return(0,r.jsx)("select",{value:a||"",onChange:e=>j(t.key,e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:null===(n=t.options)||void 0===n?void 0:n.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))});case"checkbox":return(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:a||!1,onChange:e=>j(t.key,e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,r.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:a?"已启用":"已禁用"})]});default:return null}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"系统设置"}),(0,r.jsx)("p",{className:"text-gray-600",children:"配置系统参数和第三方服务"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)(a.z,{variant:"outline",onClick:()=>{t(y),h.ZP.success("设置已重置")},children:[(0,r.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),"重置"]}),(0,r.jsxs)(a.z,{onClick:b,disabled:s,children:[(0,r.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),s?"保存中...":"保存设置"]})]})]}),(0,r.jsx)("div",{className:"space-y-6",children:N.map(e=>{let t=e.icon;return(0,r.jsxs)(i.Zb,{children:[(0,r.jsx)(i.Ol,{children:(0,r.jsxs)(i.ll,{className:"flex items-center space-x-2",children:[(0,r.jsx)(t,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:e.title})]})}),(0,r.jsx)(i.aY,{className:"space-y-6",children:e.settings.map(e=>(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"md:col-span-1",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e.label}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]}),(0,r.jsx)("div",{className:"md:col-span-2",children:_(e)})]},e.key))})]},e.title)})}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsx)(i.Ol,{children:(0,r.jsxs)(i.ll,{className:"flex items-center space-x-2",children:[(0,r.jsx)(v.Z,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"系统信息"})]})}),(0,r.jsx)(i.aY,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:"v1.0.0"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"系统版本"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"PostgreSQL"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"数据库"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:"Next.js 14"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"框架版本"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:"生产环境"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"运行环境"})]})]})})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsx)(i.Ol,{children:(0,r.jsx)(i.ll,{children:"最近设置变更"})}),(0,r.jsx)(i.aY,{children:(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between py-2 border-b",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900",children:"更新默认货币"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"管理员 • 2小时前"})]}),(0,r.jsx)(c.C,{variant:"outline",children:"更新"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between py-2 border-b",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900",children:"启用 DRM 保护"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"管理员 • 1天前"})]}),(0,r.jsx)(c.C,{variant:"outline",children:"更新"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900",children:"配置邮件服务"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"管理员 • 3天前"})]}),(0,r.jsx)(c.C,{variant:"outline",children:"创建"})]})]})})]})]})}},1478:function(e,t,s){"use strict";s.d(t,{C:function(){return i}});var r=s(7437);s(2265);var n=s(6061),a=s(1657);let l=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:s,...n}=e;return(0,r.jsx)("div",{className:(0,a.cn)(l({variant:s}),t),...n})}},5754:function(e,t,s){"use strict";s.d(t,{z:function(){return d}});var r=s(7437),n=s(2265),a=s(7256),l=s(6061),i=s(1657);let c=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:s,variant:n,size:l,asChild:d=!1,...o}=e,u=d?a.g7:"button";return(0,r.jsx)(u,{className:(0,i.cn)(c({variant:n,size:l,className:s})),ref:t,...o})});d.displayName="Button"},7815:function(e,t,s){"use strict";s.d(t,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return l},aY:function(){return o},ll:function(){return c}});var r=s(7437),n=s(2265),a=s(1657);let l=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...n})});l.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",s),...n})});i.displayName="CardHeader";let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",s),...n})});c.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",s),...n})});d.displayName="CardDescription";let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",s),...n})});o.displayName="CardContent",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",s),...n})}).displayName="CardFooter"},5179:function(e,t,s){"use strict";s.d(t,{I:function(){return l}});var r=s(7437),n=s(2265),a=s(1657);let l=n.forwardRef((e,t)=>{let{className:s,type:n,...l}=e;return(0,r.jsx)("input",{type:n,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...l})});l.displayName="Input"},1657:function(e,t,s){"use strict";s.d(t,{cn:function(){return a}});var r=s(7042),n=s(4769);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m6)((0,r.W)(t))}}},function(e){e.O(0,[61,549,971,938,744],function(){return e(e.s=316)}),_N_E=e.O()}]);