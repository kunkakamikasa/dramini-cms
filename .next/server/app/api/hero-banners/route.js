"use strict";(()=>{var e={};e.id=6918,e.ids=[6918],e.modules={53524:e=>{e.exports=require("@prisma/client")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},90345:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>v,originalPathname:()=>y,patchFetch:()=>f,requestAsyncStorage:()=>m,routeModule:()=>p,serverHooks:()=>b,staticGenerationAsyncStorage:()=>h,staticGenerationBailout:()=>g});var n={};r.r(n),r.d(n,{GET:()=>u,POST:()=>d,dynamic:()=>c});var i=r(95419),a=r(69108),o=r(99678),s=r(78070),l=r(3214);let c="force-dynamic";async function u(){try{let e=(await l._.sectionContent.findMany({where:{section:"hero",isActive:!0},include:{titles:{select:{id:!0,name:!0,mainTitle:!0,subTitle:!0,bannerUrl:!0,slug:!0,isOnline:!0}}},orderBy:{order:"asc"}})).filter(e=>e.titles.isOnline&&e.titles.bannerUrl).map(e=>({id:e.id,movieId:e.titleId,order:e.order,isActive:e.isActive,movie:{id:e.titles.id,name:e.titles.name,mainTitle:e.titles.mainTitle,subTitle:e.titles.subTitle,bannerUrl:e.titles.bannerUrl,slug:e.titles.slug,isOnline:e.titles.isOnline},createdAt:e.createdAt}));return s.Z.json(e)}catch(e){return console.error("Failed to fetch hero banners:",e),s.Z.json([],{status:500})}}async function d(e){try{let t=await e.json(),r=await l._.sectionContent.create({data:{section:"hero",titleId:t.movieId,order:t.order}});return s.Z.json(r)}catch(e){return console.error("Failed to create hero banner:",e),s.Z.json({error:"Failed to create banner"},{status:500})}}let p=new i.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/hero-banners/route",pathname:"/api/hero-banners",filename:"route",bundlePath:"app/api/hero-banners/route"},resolvedPagePath:"/Users/mayingkun/mkwork/cursorproject/H5/DraminiCMS/app/api/hero-banners/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:m,staticGenerationAsyncStorage:h,serverHooks:b,headerHooks:v,staticGenerationBailout:g}=p,y="/api/hero-banners/route";function f(){return(0,o.patchFetch)({serverHooks:b,staticGenerationAsyncStorage:h})}},3214:(e,t,r)=>{r.d(t,{_:()=>i});var n=r(53524);let i=globalThis.prisma??new n.PrismaClient}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[1638,6206],()=>r(90345));module.exports=n})();