"use strict";(()=>{var e={};e.id=9474,e.ids=[9474],e.modules={53524:e=>{e.exports=require("@prisma/client")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},65784:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>g,originalPathname:()=>y,patchFetch:()=>f,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>h,staticGenerationAsyncStorage:()=>m,staticGenerationBailout:()=>b});var a={};r.r(a),r.d(a,{GET:()=>c,dynamic:()=>p});var n=r(95419),i=r(69108),o=r(99678),s=r(78070),u=r(3214);let p="force-dynamic";async function c(){try{let e=await u._.sectionContent.findMany({where:{sectionType:"hero_banner",isActive:!0},orderBy:{orderIndex:"asc"}}),t=e.map(e=>e.contentId),r=await u._.titles.findMany({where:{id:{in:t}},select:{id:!0,name:!0,synopsis:!0,coverImageId:!0,status:!0,slug:!0}}),a=new Map(r.map(e=>[e.id,e])),n=e.map(e=>{let t=a.get(e.contentId);return{id:e.id,slug:t?.slug||"default",title:t?.name||"Default Title",tagline:t?.synopsis||"Default tagline",backdrop:t?.coverImageId||"https://images.unsplash.com/photo-1748091301969-578c45de4dea?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1920"}});return s.Z.json({ok:!0,data:n})}catch(e){return console.error("Failed to fetch hero banners:",e),s.Z.json({ok:!1,data:[]},{status:500})}}let d=new n.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/public/hero-banners/route",pathname:"/api/public/hero-banners",filename:"route",bundlePath:"app/api/public/hero-banners/route"},resolvedPagePath:"/Users/mayingkun/mkwork/cursorproject/H5/DraminiCMS/app/api/public/hero-banners/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:h,headerHooks:g,staticGenerationBailout:b}=d,y="/api/public/hero-banners/route";function f(){return(0,o.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:m})}},3214:(e,t,r)=>{r.d(t,{_:()=>n});var a=r(53524);let n=globalThis.prisma??new a.PrismaClient}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[1638,6206],()=>r(65784));module.exports=a})();