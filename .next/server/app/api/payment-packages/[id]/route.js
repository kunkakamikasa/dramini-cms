"use strict";(()=>{var e={};e.id=4617,e.ids=[4617],e.modules={53524:e=>{e.exports=require("@prisma/client")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},53712:(e,a,t)=>{t.r(a),t.d(a,{headerHooks:()=>k,originalPathname:()=>w,patchFetch:()=>P,requestAsyncStorage:()=>l,routeModule:()=>m,serverHooks:()=>y,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>h});var r={};t.r(r),t.d(r,{DELETE:()=>d,GET:()=>c,PUT:()=>u});var n=t(95419),i=t(69108),s=t(99678),o=t(78070),p=t(3214);async function c(e,{params:a}){try{let e=await p._.paymentPackage.findUnique({where:{id:a.id}});if(!e)return o.Z.json({error:"Package not found"},{status:404});return o.Z.json(e)}catch(e){return console.error("Fetch payment package error:",e),o.Z.json({error:"Failed to fetch payment package"},{status:500})}}async function u(e,{params:a}){try{let t=await e.json(),r=await p._.paymentPackage.update({where:{id:a.id},data:{name:t.name,priceUsd:Math.round(100*parseFloat(t.priceUsd)),baseCoins:parseInt(t.baseCoins),bonusCoins:parseInt(t.bonusCoins)||0,isFirstTime:t.isFirstTime||!1,isActive:!1!==t.isActive,order:parseInt(t.order)||0,description:t.description||null,updatedAt:new Date}});return o.Z.json(r)}catch(e){return console.error("Update payment package error:",e),o.Z.json({error:"Failed to update payment package"},{status:500})}}async function d(e,{params:a}){try{return await p._.paymentPackage.delete({where:{id:a.id}}),o.Z.json({success:!0})}catch(e){return console.error("Delete payment package error:",e),o.Z.json({error:"Failed to delete payment package"},{status:500})}}let m=new n.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/payment-packages/[id]/route",pathname:"/api/payment-packages/[id]",filename:"route",bundlePath:"app/api/payment-packages/[id]/route"},resolvedPagePath:"/Users/mayingkun/mkwork/cursorproject/H5/DraminiCMS/app/api/payment-packages/[id]/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:l,staticGenerationAsyncStorage:g,serverHooks:y,headerHooks:k,staticGenerationBailout:h}=m,w="/api/payment-packages/[id]/route";function P(){return(0,s.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:g})}},3214:(e,a,t)=>{t.d(a,{_:()=>n});var r=t(53524);let n=globalThis.prisma??new r.PrismaClient}};var a=require("../../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[1638,6206],()=>t(53712));module.exports=r})();