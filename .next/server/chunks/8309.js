exports.id=8309,exports.ids=[8309],exports.modules={50572:(e,s,a)=>{Promise.resolve().then(a.bind(a,51180))},15920:(e,s,a)=>{Promise.resolve().then(a.bind(a,94332))},72414:(e,s,a)=>{Promise.resolve().then(a.t.bind(a,2583,23)),Promise.resolve().then(a.t.bind(a,26840,23)),Promise.resolve().then(a.t.bind(a,38771,23)),Promise.resolve().then(a.t.bind(a,13225,23)),Promise.resolve().then(a.t.bind(a,9295,23)),Promise.resolve().then(a.t.bind(a,43982,23))},51180:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>H});var r=a(95344),t=a(47674),n=a(22254),i=a(3729),o=a(20783),d=a.n(o),l=a(91626),c=a(2273),m=a(81349),f=a(88209),u=a(20016),x=a(46064),h=a(30473),p=a(68219),g=a(36341),j=a(48411),y=a(55313),v=a(12401),b=a(85674),N=a(89895),w=a(50340),k=a(97751),Z=a(71532);let R=[{name:"仪表板",href:"/admin/dashboard",icon:c.Z},{name:"内容管理",children:[{name:"影片库",href:"/admin/content/movie-library",icon:m.Z},{name:"剧集管理",href:"/admin/content/episodes",icon:f.Z},{name:"轮播图管理",href:"/admin/content/hero-banners",icon:u.Z},{name:"Trending Now",href:"/admin/content/trending-now",icon:x.Z},{name:"New Release",href:"/admin/content/new-release",icon:h.Z}]},{name:"分类标签",children:[{name:"分类管理",href:"/admin/categories",icon:p.Z},{name:"标签管理",href:"/admin/tags",icon:g.Z}]},{name:"商务管理",children:[{name:"收费策略",href:"/admin/commerce/pricing",icon:j.Z},{name:"充值套餐",href:"/admin/commerce/payment-packages",icon:y.Z},{name:"订单管理",href:"/admin/commerce/purchases",icon:v.Z},{name:"订阅管理",href:"/admin/commerce/subscriptions",icon:b.Z}]},{name:"系统管理",children:[{name:"用户管理",href:"/admin/users/list",icon:N.Z},{name:"审计日志",href:"/admin/operations/audit-logs",icon:w.Z}]}];function C({className:e}){let[s,a]=(0,i.useState)(!1),t=(0,n.usePathname)(),o=e=>t===e;return r.jsx("div",{className:(0,l.cn)("fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transition-all duration-300",s&&"w-16",e),children:(0,r.jsxs)("div",{className:"flex h-full flex-col",children:[(0,r.jsxs)("div",{className:"flex h-16 items-center justify-between px-4 border-b",children:[!s&&r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Dramini CMS"}),r.jsx("button",{onClick:()=>a(!s),className:"p-2 rounded-md hover:bg-gray-100",children:s?r.jsx(k.Z,{className:"h-5 w-5"}):r.jsx(Z.Z,{className:"h-5 w-5"})})]}),r.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto",children:R.map(e=>{if(e.children)return(0,r.jsxs)("div",{children:[!s&&r.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:e.name}),r.jsx("div",{className:"space-y-1",children:e.children.map(e=>{let a=e.icon;return(0,r.jsxs)(d(),{href:e.href,className:(0,l.cn)("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",o(e.href)?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"),children:[r.jsx(a,{className:"h-5 w-5 flex-shrink-0"}),!s&&r.jsx("span",{className:"ml-3",children:e.name})]},e.href)})})]},e.name);let a=e.icon;return(0,r.jsxs)(d(),{href:e.href,className:(0,l.cn)("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",o(e.href)?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"),children:[r.jsx(a,{className:"h-5 w-5 flex-shrink-0"}),!s&&r.jsx("span",{className:"ml-3",children:e.name})]},e.href)})})]})})}var P=a(16212),S=a(15480);let z=i.forwardRef(({className:e,...s},a)=>r.jsx(S.fC,{ref:a,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...s}));z.displayName=S.fC.displayName;let U=i.forwardRef(({className:e,...s},a)=>r.jsx(S.Ee,{ref:a,className:(0,l.cn)("aspect-square h-full w-full",e),...s}));U.displayName=S.Ee.displayName;let D=i.forwardRef(({className:e,...s},a)=>r.jsx(S.NY,{ref:a,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...s}));D.displayName=S.NY.displayName;var M=a(20886),_=a(33037),V=a(18822),T=a(13746),E=a(48120);function F(){var e;let{data:s}=(0,t.useSession)();return r.jsx("header",{className:"bg-white shadow-sm border-b",children:(0,r.jsxs)("div",{className:"flex h-16 items-center justify-between px-4 sm:px-6 lg:px-8",children:[r.jsx("div",{className:"flex items-center",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"短剧平台管理后台"})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx(P.z,{variant:"ghost",size:"icon",children:r.jsx(_.Z,{className:"h-5 w-5"})}),(0,r.jsxs)(M.h_,{children:[r.jsx(M.$F,{asChild:!0,children:r.jsx(P.z,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:(0,r.jsxs)(z,{className:"h-8 w-8",children:[r.jsx(U,{src:s?.user?.image||"",alt:s?.user?.name||""}),r.jsx(D,{children:(e=s?.user?.name)?e.split(" ").map(e=>e[0]).join("").toUpperCase():"U"})]})})}),(0,r.jsxs)(M.AW,{className:"w-56",align:"end",forceMount:!0,children:[r.jsx(M.Ju,{className:"font-normal",children:(0,r.jsxs)("div",{className:"flex flex-col space-y-1",children:[r.jsx("p",{className:"text-sm font-medium leading-none",children:s?.user?.name||"用户"}),r.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:s?.user?.email})]})}),r.jsx(M.VD,{}),(0,r.jsxs)(M.Xi,{children:[r.jsx(V.Z,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"个人资料"})]}),(0,r.jsxs)(M.Xi,{children:[r.jsx(T.Z,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"设置"})]}),r.jsx(M.VD,{}),(0,r.jsxs)(M.Xi,{onClick:()=>{(0,t.signOut)({callbackUrl:"/auth/signin"})},children:[r.jsx(E.Z,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"退出登录"})]})]})]})]})]})})}function H({children:e}){let{data:s,status:a}=(0,t.useSession)(),o=(0,n.useRouter)();return((0,i.useEffect)(()=>{if("loading"!==a&&!s){o.push("/auth/signin");return}},[s,a,o]),"loading"===a)?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})}):s?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(C,{}),(0,r.jsxs)("div",{className:"lg:pl-64",children:[r.jsx(F,{}),r.jsx("main",{className:"py-6",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e})})]})]}):null}},94332:(e,s,a)=>{"use strict";a.r(s),a.d(s,{Providers:()=>l});var r=a(95344),t=a(47674),n=a(16165),i=a(26274),o=a(3729),d=a(44669);function l({children:e}){let[s]=(0,o.useState)(()=>new n.S({defaultOptions:{queries:{staleTime:6e4,retry:1}}}));return r.jsx(t.SessionProvider,{children:(0,r.jsxs)(i.aH,{client:s,children:[e,r.jsx(d.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})}},16212:(e,s,a)=>{"use strict";a.d(s,{z:()=>l});var r=a(95344),t=a(3729),n=a(32751),i=a(49247),o=a(91626);let d=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=t.forwardRef(({className:e,variant:s,size:a,asChild:t=!1,...i},l)=>{let c=t?n.g7:"button";return r.jsx(c,{className:(0,o.cn)(d({variant:s,size:a,className:e})),ref:l,...i})});l.displayName="Button"},20886:(e,s,a)=>{"use strict";a.d(s,{$F:()=>m,AW:()=>f,Ju:()=>x,VD:()=>h,Xi:()=>u,h_:()=>c});var r=a(95344),t=a(3729),n=a(28473),i=a(97751),o=a(62312),d=a(82958),l=a(91626);let c=n.fC,m=n.xz;n.ZA,n.Uv,n.Tr,n.Ee,t.forwardRef(({className:e,inset:s,children:a,...t},o)=>(0,r.jsxs)(n.fF,{ref:o,className:(0,l.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",e),...t,children:[a,r.jsx(i.Z,{className:"ml-auto h-4 w-4"})]})).displayName=n.fF.displayName,t.forwardRef(({className:e,...s},a)=>r.jsx(n.tu,{ref:a,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})).displayName=n.tu.displayName;let f=t.forwardRef(({className:e,sideOffset:s=4,...a},t)=>r.jsx(n.Uv,{children:r.jsx(n.VY,{ref:t,sideOffset:s,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));f.displayName=n.VY.displayName;let u=t.forwardRef(({className:e,inset:s,...a},t)=>r.jsx(n.ck,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",e),...a}));u.displayName=n.ck.displayName,t.forwardRef(({className:e,children:s,checked:a,...t},i)=>(0,r.jsxs)(n.oC,{ref:i,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:a,...t,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(n.wU,{children:r.jsx(o.Z,{className:"h-4 w-4"})})}),s]})).displayName=n.oC.displayName,t.forwardRef(({className:e,children:s,...a},t)=>(0,r.jsxs)(n.Rk,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(n.wU,{children:r.jsx(d.Z,{className:"h-2 w-2 fill-current"})})}),s]})).displayName=n.Rk.displayName;let x=t.forwardRef(({className:e,inset:s,...a},t)=>r.jsx(n.__,{ref:t,className:(0,l.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",e),...a}));x.displayName=n.__.displayName;let h=t.forwardRef(({className:e,...s},a)=>r.jsx(n.Z0,{ref:a,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",e),...s}));h.displayName=n.Z0.displayName},91626:(e,s,a)=>{"use strict";a.d(s,{cn:()=>n});var r=a(56815),t=a(79377);function n(...e){return(0,t.m6)((0,r.W)(e))}},66294:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>n,__esModule:()=>t,default:()=>i});let r=(0,a(86843).createProxy)(String.raw`/Users/mayingkun/mkwork/cursorproject/H5/DraminiCMS/app/admin/layout.tsx`),{__esModule:t,$$typeof:n}=r,i=r.default},78062:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>c,metadata:()=>l});var r=a(25036);a(67272);var t=a(86843);let n=(0,t.createProxy)(String.raw`/Users/mayingkun/mkwork/cursorproject/H5/DraminiCMS/app/providers.tsx`),{__esModule:i,$$typeof:o}=n;n.default;let d=(0,t.createProxy)(String.raw`/Users/mayingkun/mkwork/cursorproject/H5/DraminiCMS/app/providers.tsx#Providers`),l={title:"Dramini CMS",description:"Content Management System"};function c({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:"font-sans",children:r.jsx(d,{children:e})})})}},67272:()=>{}};