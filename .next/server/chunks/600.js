exports.id=600,exports.ids=[600],exports.modules={50572:(e,s,a)=>{Promise.resolve().then(a.bind(a,51180))},8166:()=>{},72414:(e,s,a)=>{Promise.resolve().then(a.t.bind(a,2583,23)),Promise.resolve().then(a.t.bind(a,26840,23)),Promise.resolve().then(a.t.bind(a,38771,23)),Promise.resolve().then(a.t.bind(a,13225,23)),Promise.resolve().then(a.t.bind(a,9295,23)),Promise.resolve().then(a.t.bind(a,43982,23))},51180:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>Y});var n=a(95344),t=a(47674),r=a(22254),i=a(3729),l=a(20783),d=a.n(l),o=a(91626),c=a(2273),m=a(81349),f=a(88209),u=a(20016),x=a(46064),h=a(30473),p=a(68219),g=a(36341),j=a(48411),N=a(55313),b=a(12401),y=a(85674),v=a(89895),w=a(50340),Z=a(97751),k=a(71532);let R=[{name:"仪表板",href:"/admin/dashboard",icon:c.Z},{name:"内容管理",children:[{name:"影片库",href:"/admin/content/movie-library",icon:m.Z},{name:"剧集管理",href:"/admin/content/episodes",icon:f.Z},{name:"轮播图管理",href:"/admin/content/hero-banners",icon:u.Z},{name:"Trending Now",href:"/admin/content/trending-now",icon:x.Z},{name:"New Release",href:"/admin/content/new-release",icon:h.Z}]},{name:"分类标签",children:[{name:"分类管理",href:"/admin/categories",icon:p.Z},{name:"标签管理",href:"/admin/tags",icon:g.Z}]},{name:"商务管理",children:[{name:"收费策略",href:"/admin/commerce/pricing",icon:j.Z},{name:"充值套餐",href:"/admin/commerce/payment-packages",icon:N.Z},{name:"订单管理",href:"/admin/commerce/purchases",icon:b.Z},{name:"订阅管理",href:"/admin/commerce/subscriptions",icon:y.Z}]},{name:"系统管理",children:[{name:"用户管理",href:"/admin/users/list",icon:v.Z},{name:"审计日志",href:"/admin/operations/audit-logs",icon:w.Z}]}];function z({className:e}){let[s,a]=(0,i.useState)(!1),t=(0,r.usePathname)(),l=e=>t===e;return n.jsx("div",{className:(0,o.cn)("fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transition-all duration-300",s&&"w-16",e),children:(0,n.jsxs)("div",{className:"flex h-full flex-col",children:[(0,n.jsxs)("div",{className:"flex h-16 items-center justify-between px-4 border-b",children:[!s&&n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Dramini CMS"}),n.jsx("button",{onClick:()=>a(!s),className:"p-2 rounded-md hover:bg-gray-100",children:s?n.jsx(Z.Z,{className:"h-5 w-5"}):n.jsx(k.Z,{className:"h-5 w-5"})})]}),n.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto",children:R.map(e=>{if(e.children)return(0,n.jsxs)("div",{children:[!s&&n.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:e.name}),n.jsx("div",{className:"space-y-1",children:e.children.map(e=>{let a=e.icon;return(0,n.jsxs)(d(),{href:e.href,className:(0,o.cn)("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",l(e.href)?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"),children:[n.jsx(a,{className:"h-5 w-5 flex-shrink-0"}),!s&&n.jsx("span",{className:"ml-3",children:e.name})]},e.href)})})]},e.name);let a=e.icon;return(0,n.jsxs)(d(),{href:e.href,className:(0,o.cn)("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",l(e.href)?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"),children:[n.jsx(a,{className:"h-5 w-5 flex-shrink-0"}),!s&&n.jsx("span",{className:"ml-3",children:e.name})]},e.href)})})]})})}var C=a(16212),P=a(15480);let S=i.forwardRef(({className:e,...s},a)=>n.jsx(P.fC,{ref:a,className:(0,o.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...s}));S.displayName=P.fC.displayName;let U=i.forwardRef(({className:e,...s},a)=>n.jsx(P.Ee,{ref:a,className:(0,o.cn)("aspect-square h-full w-full",e),...s}));U.displayName=P.Ee.displayName;let _=i.forwardRef(({className:e,...s},a)=>n.jsx(P.NY,{ref:a,className:(0,o.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...s}));_.displayName=P.NY.displayName;var D=a(20886),M=a(33037),V=a(18822),E=a(13746),F=a(48120);function X(){var e;let{data:s}=(0,t.useSession)();return n.jsx("header",{className:"bg-white shadow-sm border-b",children:(0,n.jsxs)("div",{className:"flex h-16 items-center justify-between px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"flex items-center",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"短剧平台管理后台"})}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[n.jsx(C.z,{variant:"ghost",size:"icon",children:n.jsx(M.Z,{className:"h-5 w-5"})}),(0,n.jsxs)(D.h_,{children:[n.jsx(D.$F,{asChild:!0,children:n.jsx(C.z,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:(0,n.jsxs)(S,{className:"h-8 w-8",children:[n.jsx(U,{src:s?.user?.image||"",alt:s?.user?.name||""}),n.jsx(_,{children:(e=s?.user?.name)?e.split(" ").map(e=>e[0]).join("").toUpperCase():"U"})]})})}),(0,n.jsxs)(D.AW,{className:"w-56",align:"end",forceMount:!0,children:[n.jsx(D.Ju,{className:"font-normal",children:(0,n.jsxs)("div",{className:"flex flex-col space-y-1",children:[n.jsx("p",{className:"text-sm font-medium leading-none",children:s?.user?.name||"用户"}),n.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:s?.user?.email})]})}),n.jsx(D.VD,{}),(0,n.jsxs)(D.Xi,{children:[n.jsx(V.Z,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"个人资料"})]}),(0,n.jsxs)(D.Xi,{children:[n.jsx(E.Z,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"设置"})]}),n.jsx(D.VD,{}),(0,n.jsxs)(D.Xi,{onClick:()=>{(0,t.signOut)({callbackUrl:"/auth/signin"})},children:[n.jsx(F.Z,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"退出登录"})]})]})]})]})]})})}function Y({children:e}){let{data:s,status:a}=(0,t.useSession)(),l=(0,r.useRouter)();return((0,i.useEffect)(()=>{if("loading"!==a&&!s){l.push("/auth/signin");return}},[s,a,l]),"loading"===a)?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})}):s?(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(z,{}),(0,n.jsxs)("div",{className:"lg:pl-64",children:[n.jsx(X,{}),n.jsx("main",{className:"py-6",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e})})]})]}):null}},16212:(e,s,a)=>{"use strict";a.d(s,{z:()=>o});var n=a(95344),t=a(3729),r=a(32751),i=a(49247),l=a(91626);let d=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=t.forwardRef(({className:e,variant:s,size:a,asChild:t=!1,...i},o)=>{let c=t?r.g7:"button";return n.jsx(c,{className:(0,l.cn)(d({variant:s,size:a,className:e})),ref:o,...i})});o.displayName="Button"},20886:(e,s,a)=>{"use strict";a.d(s,{$F:()=>m,AW:()=>f,Ju:()=>x,VD:()=>h,Xi:()=>u,h_:()=>c});var n=a(95344),t=a(3729),r=a(28473),i=a(97751),l=a(62312),d=a(82958),o=a(91626);let c=r.fC,m=r.xz;r.ZA,r.Uv,r.Tr,r.Ee,t.forwardRef(({className:e,inset:s,children:a,...t},l)=>(0,n.jsxs)(r.fF,{ref:l,className:(0,o.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",e),...t,children:[a,n.jsx(i.Z,{className:"ml-auto h-4 w-4"})]})).displayName=r.fF.displayName,t.forwardRef(({className:e,...s},a)=>n.jsx(r.tu,{ref:a,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})).displayName=r.tu.displayName;let f=t.forwardRef(({className:e,sideOffset:s=4,...a},t)=>n.jsx(r.Uv,{children:n.jsx(r.VY,{ref:t,sideOffset:s,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));f.displayName=r.VY.displayName;let u=t.forwardRef(({className:e,inset:s,...a},t)=>n.jsx(r.ck,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",e),...a}));u.displayName=r.ck.displayName,t.forwardRef(({className:e,children:s,checked:a,...t},i)=>(0,n.jsxs)(r.oC,{ref:i,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:a,...t,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(r.wU,{children:n.jsx(l.Z,{className:"h-4 w-4"})})}),s]})).displayName=r.oC.displayName,t.forwardRef(({className:e,children:s,...a},t)=>(0,n.jsxs)(r.Rk,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(r.wU,{children:n.jsx(d.Z,{className:"h-2 w-2 fill-current"})})}),s]})).displayName=r.Rk.displayName;let x=t.forwardRef(({className:e,inset:s,...a},t)=>n.jsx(r.__,{ref:t,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",e),...a}));x.displayName=r.__.displayName;let h=t.forwardRef(({className:e,...s},a)=>n.jsx(r.Z0,{ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...s}));h.displayName=r.Z0.displayName},91626:(e,s,a)=>{"use strict";a.d(s,{cn:()=>r});var n=a(56815),t=a(79377);function r(...e){return(0,t.m6)((0,n.W)(e))}},66294:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>r,__esModule:()=>t,default:()=>i});let n=(0,a(86843).createProxy)(String.raw`/Users/mayingkun/mkwork/cursorproject/H5/DraminiCMS/app/admin/layout.tsx`),{__esModule:t,$$typeof:r}=n,i=n.default},82917:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>r,metadata:()=>t});var n=a(25036);a(67272);let t={title:"Dramini CMS",description:"Content Management System"};function r({children:e}){return n.jsx("html",{lang:"en",children:n.jsx("body",{className:"font-sans",children:e})})}},67272:()=>{}};